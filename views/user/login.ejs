<% layout("/layouts/boilerplate") -%>

<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <!-- Flash messages -->


      <div class="card shadow-sm">
        <div class="card-body p-4">
          <h3 class="card-title text-center mb-3">Welcome back</h3>
          <p class="text-center text-muted mb-4">Log in to continue to HotelVault</p>

          <form action="/login" method="POST" class="needs-validation" novalidate>
            <!-- preserve redirect URL so user returns to requested page after login -->
            <input type="hidden" name="redirectUrl" value="<%= typeof redirectUrl !== 'undefined' ? redirectUrl : '' %>">

            <div class="mb-3">
              <label for="username" class="form-label">Username or Email</label>
              <input type="text" class="form-control" id="username" name="username" required>
              <div class="invalid-feedback">Please enter your username or email.</div>
            </div>

            <div class="mb-3">
              <label for="password" class="form-label">Password</label>
              <input type="password" class="form-control" id="password" name="password" required>
              <div class="invalid-feedback">Please enter your password.</div>
            </div>

            <div class="d-flex justify-content-between align-items-center mb-3">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="remember" name="remember">
                <label class="form-check-label" for="remember">Remember me</label>
              </div>
              <a href="/forgot-password" class="small">Forgot password?</a>
            </div>

            <div class="d-grid">
              <button class="btn" style="background-color: #ff385c;" type="submit">Log In</button>
            </div>
          </form>

          

          <p class="text-center mt-4 mb-0">Don't have an account? <a href="/signUp">Sign up</a></p>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // Bootstrap form validation
  (function () {
    'use strict'
    var forms = document.querySelectorAll('.needs-validation')
    Array.prototype.slice.call(forms).forEach(function (form) {
      form.addEventListener('submit', function (event) {
        if (!form.checkValidity()) {
          event.preventDefault()
          event.stopPropagation()
        }
        form.classList.add('was-validated')
      }, false)
    })
  })();
</script>

